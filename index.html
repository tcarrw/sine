<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Sine — Calm & Breath</title>
<meta name="description" content="Local tone generator for relaxation: breath pacer, single tone, optional binaural beat, and a gentle 3-phase calming sequence.">
<meta name="robots" content="index,follow,max-image-preview:large,max-video-preview:-1,max-snippet:-1">
<style>
  :root{
    --bg:#0B0F19;--ink:#E6EAF2;--muted:#A5B4CF;--line:rgba(255,255,255,.12);
    --card:#0F1524;--hi:#FFD6A8;--ok:#7EE7D9;--warn:#FBBF24;
    --accent:#F2A6B3;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.55 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial}
  header{padding:24px 20px;border-bottom:1px solid var(--line);background:linear-gradient(180deg,rgba(255,214,168,.08),transparent)}
  h1{margin:0 0 6px;font-size:20px}
  p{margin:0;color:var(--muted)}
  main{max-width:860px;margin:0 auto;padding:20px;display:grid;gap:16px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:16px}
  label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
  input[type="range"]{width:100%}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .row-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
  .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
  button{appearance:none;border:1px solid var(--line);background:#151b2a;color:var(--ink);
    padding:10px 14px;border-radius:10px;cursor:pointer}
  button.primary{background:var(--accent);color:#111;border-color:transparent}
  button.ghost{background:transparent}
  .pill{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid var(--line);color:var(--muted);font-size:12px}
  .kv{display:flex;justify-content:space-between;align-items:center;gap:12px}
  .value{min-width:64px;text-align:right;color:var(--hi);font-variant-numeric:tabular-nums}
  .breath{display:flex;justify-content:center;align-items:center;height:220px;position:relative}
  .orb{width:60px;height:60px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #ffe9d4, #d39ea8 60%, #7e79f0);
    filter:blur(0.2px);opacity:.9;transition:transform .6s ease, opacity .6s ease}
  .meter{height:6px;background:linear-gradient(90deg,var(--ok),var(--accent));border-radius:6px;transition:width .3s}
  .muted{color:var(--muted);font-size:13px}
  .grid{display:grid;gap:10px}
  .tiny{font-size:12px;color:var(--muted)}
  @media (max-width:720px){.row,.row-3{grid-template-columns:1fr}}
</style>
</head>
<body>
<header>
  <h1>Sine — Calm & Breath</h1>
  <p>Gentle tones for relaxation, focus, and breath pacing. Headphones recommended for binaural mode.</p>
</header>

<main>
  <!-- Breath Pacer -->
  <section class="card">
    <div class="kv"><strong>Breath Pacer</strong><span class="pill" id="pacerLabel">4 in / 6 out</span></div>
    <div class="breath"><div class="orb" id="orb"></div></div>
    <div class="row">
      <div>
        <label for="inh">Inhale seconds</label>
        <input id="inh" type="range" min="2" max="8" step="1" value="4">
      </div>
      <div>
        <label for="exh">Exhale seconds</label>
        <input id="exh" type="range" min="3" max="12" step="1" value="6">
      </div>
    </div>
    <div class="controls">
      <button id="pacerStart" class="primary">Start Pacer</button>
      <button id="pacerStop" class="ghost">Stop Pacer</button>
    </div>
  </section>

  <!-- Tone Generator -->
  <section class="card">
    <div class="kv"><strong>Single Tone</strong><span class="value" id="freqVal">136.1 Hz</span></div>
    <div class="row-3">
      <div>
        <label for="freq">Frequency (Hz)</label>
        <input id="freq" type="range" min="20" max="1000" step="0.1" value="136.1">
      </div>
      <div>
        <label for="gain">Volume</label>
        <input id="gain" type="range" min="0" max="1" step="0.001" value="0.25">
      </div>
      <div>
        <label for="shape">Wave</label>
        <select id="shape">
          <option>sine</option>
          <option>triangle</option>
          <option>sawtooth</option>
          <option>square</option>
        </select>
      </div>
    </div>
    <div class="controls">
      <button id="toneStart" class="primary">Start Tone</button>
      <button id="toneStop" class="ghost">Stop Tone</button>
    </div>
    <div class="tiny">Tip: 128–150 Hz can feel chest-centered; 220 Hz often feels “voice-like”.</div>
  </section>

  <!-- Binaural Beat -->
  <section class="card">
    <div class="kv"><strong>Binaural</strong><span class="pill" id="bnLabel">Base 220 Hz • Beat 8 Hz</span></div>
    <div class="row-3">
      <div>
        <label for="bnBase">Base (Hz)</label>
        <input id="bnBase" type="range" min="80" max="600" step="0.1" value="220">
      </div>
      <div>
        <label for="bnBeat">Beat (Hz)</label>
        <input id="bnBeat" type="range" min="1" max="12" step="0.1" value="8">
      </div>
      <div>
        <label for="bnGain">Volume</label>
        <input id="bnGain" type="range" min="0" max="1" step="0.001" value="0.18">
      </div>
    </div>
    <div class="controls">
      <button id="bnStart" class="primary">Start Binaural</button>
      <button id="bnStop" class="ghost">Stop Bin
